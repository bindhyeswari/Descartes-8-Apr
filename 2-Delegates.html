<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>

        // ul parent
        // li elements - 4 of them
        // uuid - data-fid
        // click on any of them - dataset.fid

        function uuid() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
                return v.toString(16);
            });
        }


        document.addEventListener('DOMContentLoaded', function () {
            var ul = createElement('ul', document.body);

            ul.addEventListener('click', function (event) {
                console.log(event.target.dataset.fid);
            });

            for (var i = 0; i < 4; i++) {
                // create 4 li elements with a data-fid attribute
                var li = createElement('li', ul, '', 'This is li element ' + (i + 1), {
                    'data-fid': uuid()
                });

                // add an event listener onto the li element
                // to print out the fid once the li element is created
                /*li.addEventListener('click', function () {
                    console.log(this.dataset.fid);
                });*/
            }
        });

        function createElement(elementType, parent, className, innerHTML, custom) {
            var element = document.createElement(elementType);
            if (parent) parent.appendChild(element);
            if (className) element.className = className;
            if (innerHTML) element.innerHTML = innerHTML;

            if (typeof custom !== 'undefined') {
                for (var prop in custom) {
                    element.setAttribute(prop, custom[prop]);
                }
            }

            return element;
        }

    </script>
</head>
<body>

</body>
</html>